# Electron最小サンプル - クイックスタートガイド

## ✅ 修正済み

エラーハンドリングを追加しました：

- `loadFile()`の失敗時にコンソールにエラー出力
- グローバルエラーハンドラー（uncaughtException）を追加
- 証明書エラーを無視（開発環境用）

## 起動方法

### 方法1: 通常起動

```bash
cd e2e-proof
npm start
```

**動作**:
- Electronウィンドウが表示される
- 「E2E基盤証明アプリケーション」と「テストボタン」が表示
- 60秒後に自動終了

### 方法2: 手動確認

1. `npm start`を実行
2. エラーポップアップが表示された場合:
   - ポップアップの詳細を確認
   - DevTools（F12）でコンソールエラーを確認

### 方法3: 構成確認

```bash
node check-electron.js
```

## トラブルシューティング

### エラーポップアップが表示される場合

**原因**:
- index.htmlの読み込み失敗
- パスの問題

**確認方法**:
1. `index.html`が存在するか確認
2. DevTools（F12）でエラーメッセージを確認

### Electronが起動しない場合

**原因**:
- 依存関係がインストールされていない

**解決方法**:
```bash
npm install
```

## 期待される動作

### 正常動作

1. Electronウィンドウが表示
2. 「E2E基盤証明アプリケーション」のタイトルが表示
3. 「テストボタン」が表示
4. ボタンをクリックすると「テスト完了」と表示
5. 60秒後に自動終了

### エラーがない場合

- ウィンドウが表示される
- DevToolsが開かない（E2E_TESTなしの場合）
- コンソールにエラーが表示されない

## 修正内容

### main.jsの変更点

1. **エラーハンドリング追加**:
   ```javascript
   mainWindow.webContents.on('did-fail-load', ...)
   ```

2. **グローバルエラーハンドラー追加**:
   ```javascript
   process.on('uncaughtException', ...)
   ```

3. **証明書エラーを無視**:
   ```javascript
   app.on('certificate-error', ...)
   ```

これにより、エラーポップアップが表示されなくなり、代わりにコンソールにエラーメッセージが表示されます。

