{
  "version": 1,
  "metadata": {
    "description": "Nexus prompt dictionary sample for task breakdown, docs, and QA flows",
    "updatedAt": "2024-12-01T00:00:00.000Z"
  },
  "categories": [
    {
      "id": "TASK_BREAKDOWN",
      "label": "タスク分解",
      "description": "Breakdown prompts used when drafting Cursor auto requests",
      "items": [
        {
          "id": "TASK-BD-01",
          "title": "MECE分解の指示",
          "description": "要求をMECEに整理させるための共通フレーズ",
          "body": "要求をMECE（重複なく漏れなく）に分解してください。",
          "tags": ["breakdown", "mece"]
        },
        {
          "id": "TASK-BD-02",
          "title": "完了基準の定義要求",
          "description": "各サブタスクに受入基準を付与するよう求める",
          "body": "完了基準を定義してください。",
          "tags": ["acceptance", "criteria"]
        },
        {
          "id": "TASK-BD-03",
          "title": "サブタスク生成テンプレート",
          "description": "タスク概要を渡してサブタスクと完了基準を生成させる雛形",
          "body": "以下の要求をサブタスクに分解してください：\n[TASK]\n\n出力形式：\n- サブタスク1: [内容], 完了基準: [基準]\n- サブタスク2: [内容], 完了基準: [基準]",
          "tags": ["template", "subtasks"]
        }
      ]
    },
    {
      "id": "DOC_REVIEW",
      "label": "ドキュメント整備",
      "description": "docs/PRD配下で使う整備・チェック系プロンプト",
      "items": [
        {
          "id": "DOC-RD-01",
          "title": "章番号整備",
          "description": "Markdownセクションに章番号を付与する依頼",
          "body": "このドキュメントに章番号を追加してください。\nルール：## 1. タイトル のように番号を付与",
          "tags": ["docs", "format"]
        },
        {
          "id": "DOC-RD-02",
          "title": "目次追加",
          "description": "リンク付き目次の生成を依頼",
          "body": "リンク付きの目次を追加してください。\n形式：[テキスト](#アンカー)",
          "tags": ["docs", "toc"]
        },
        {
          "id": "DOC-CK-01",
          "title": "システム要件定義書との比較",
          "description": "不足項目がないか確認する質問系プロンプト",
          "body": "一般的なシステム要件定義書と比較して、抜けている項目などはないですか？",
          "tags": ["review", "consistency"]
        }
      ]
    },
    {
      "id": "QUALITY_FLOW",
      "label": "品質・検証",
      "description": "コードレビューやE2Eテストに関する共通プロンプト",
      "items": [
        {
          "id": "CODE-QC-01",
          "title": "コードレビュー依頼",
          "description": "コードの改善点を列挙してもらう",
          "body": "以下のコードをレビューしてください。指摘事項を列挙してください。",
          "tags": ["code", "review"]
        },
        {
          "id": "CODE-QC-02",
          "title": "型安全性チェック",
          "description": "TypeScriptの型エラー洗い出し",
          "body": "TypeScriptの型エラーを確認し、修正してください。",
          "tags": ["typescript", "quality"]
        },
        {
          "id": "TEST-E2E-01",
          "title": "E2Eテスト実行依頼",
          "description": "テストの実行と結果報告を依頼する定型文",
          "body": "E2Eテストを実行し、結果を報告してください。",
          "tags": ["e2e", "testing"]
        }
      ]
    },
    {
      "id": "VALIDATION_FIX",
      "label": "バリデーション違反修正",
      "description": "Quality Gates違反を修正するためのプロンプト",
      "items": [
        {
          "id": "DOC-FIX-01",
          "title": "Breadcrumbsブロック追加",
          "description": "ドキュメントに欠損しているBreadcrumbsブロックを追加する修正プロンプト",
          "body": "このドキュメントにBreadcrumbsブロックを追加してください。\n\n[正しい記述例]\n> Breadcrumbs\n> Layer: PRD\n> Upstream: docs/PRD/index.mdc\n> Downstream: docs/ARCH/index.mdc\n\n[注意事項]\n- Layerは以下のいずれか: STRATEGY, PRD, UX, API, DATA, ARCH, DEVELOPMENT, QA\n- Upstream/Downstreamは実在するファイルパスまたはN/A\n- パスはプロジェクトルートからの相対パス",
          "tags": ["validation", "doc-01", "breadcrumbs"]
        },
        {
          "id": "DOC-FIX-02",
          "title": "Layer定義修正",
          "description": "無効または不適切なLayer定義を修正する",
          "body": "このドキュメントのLayer定義を正しい値に修正してください。\n\n[有効なLayer]\n- STRATEGY: 戦略・ビジョン\n- PRD: プロダクト要求定義\n- UX: ユーザー体験・画面仕様\n- API: APIインターフェース仕様\n- DATA: データ構造・スキーマ\n- ARCH: アーキテクチャ設計\n- DEVELOPMENT: 開発ガイド\n- QA: 品質保証・テスト\n\n現在のLayer: {current_layer}\n推奨Layer: {suggested_layer}",
          "tags": ["validation", "doc-02", "layer"]
        },
        {
          "id": "DOC-FIX-03",
          "title": "リンクパス修正",
          "description": "実在しないUpstream/Downstreamパスを修正する",
          "body": "Upstream/Downstreamに記載されているパスが実在しません。\n以下のパスを確認し、正しいパスに修正してください。\n\n[不正なパス]\n{invalid_paths}\n\n[修正方法]\n1. ファイルが存在するか確認\n2. パスがプロジェクトルートからの相対パスか確認\n3. 存在しない場合は「N/A」に変更",
          "tags": ["validation", "doc-03", "links"]
        },
        {
          "id": "DOC-FIX-04",
          "title": "循環参照解消",
          "description": "ドキュメント間の循環参照を解消する",
          "body": "ドキュメント間に循環参照が検出されました。\n以下の依存関係を見直し、循環を解消してください。\n\n[循環参照パス]\n{circular_path}\n\n[解消方法]\n- 上位・下位の関係を明確化\n- 不要なリンクを削除\n- 必要に応じてドキュメント構造を再設計",
          "tags": ["validation", "doc-04", "circular"]
        },
        {
          "id": "DOC-FIX-05",
          "title": "章番号追加・修正",
          "description": "見出しに章番号を追加または修正する",
          "body": "このドキュメントの見出しに章番号を追加してください。\n\n[ルール]\n- ## 1. タイトル のように番号を付与\n- 番号は連続する（1, 2, 3...）\n- サブセクションは 1.1, 1.2 のように階層化\n\n[現在の見出し]\n{current_headings}",
          "tags": ["validation", "doc-05", "numbering"]
        },
        {
          "id": "DOC-FIX-06",
          "title": "目次生成",
          "description": "リンク付きの目次を生成する",
          "body": "リンク付きの目次を追加してください。\n\n[形式]\n- [セクション名](#アンカー)\n- アンカーは見出しを小文字化し、スペースをハイフンに変換\n\n[目次の位置]\nBreadcrumbsの直後、最初のセクションの前",
          "tags": ["validation", "doc-06", "toc"]
        },
        {
          "id": "DOC-FIX-07",
          "title": "命名規則修正",
          "description": "ファイル名を命名規則に準拠させる",
          "body": "ファイル名を命名規則に準拠させてください。\n\n[命名規則]\n- PRD層: PRD_機能名.mdc\n- その他: 機能名.mdc または 目的.mdc\n- 英数字、アンダースコア、ハイフンのみ使用\n- スペースは使わない\n\n現在のファイル名: {current_filename}\n推奨ファイル名: {suggested_filename}",
          "tags": ["validation", "doc-07", "naming"]
        },
        {
          "id": "DOC-FIX-08",
          "title": "内容範囲の明示追加",
          "description": "扱う内容と扱わない内容を明示する",
          "body": "このドキュメントに「扱う内容」と「扱わない内容」のセクションを追加してください。\n\n[記述例]\n## スコープ\n\n### 扱う内容\n- 項目1\n- 項目2\n\n### 扱わない内容（非スコープ）\n- 項目1\n- 項目2\n\n[注意]\n- 箇条書き形式で明確に記述\n- 曖昧な表現を避ける",
          "tags": ["validation", "doc-08", "scope"]
        }
      ]
    },
    {
      "id": "IMPLEMENTATION_STATUS",
      "label": "実装状況確認",
      "description": "仕様ドキュメントと実装状況を比較して未実装箇所を特定するプロンプト",
      "items": [
        {
          "id": "IMPL-CHECK-01",
          "title": "全体未実装箇所チェック",
          "description": "プロジェクト全体の未実装機能・要件を洗い出す",
          "body": "プロジェクト全体の仕様ドキュメントと実装状況を比較し、未実装箇所を特定してください。\n\n[対象ドキュメント]\n- docs/PRD/ 配下のすべてのドキュメント\n- docs/ARCH/ 配下のすべてのドキュメント\n- docs/DEVELOPMENT/ 配下のすべてのドキュメント\n\n[確認観点]\n1. 機能要件（PRD）\n   - 定義されている機能が実装されているか\n   - ユーザーシナリオが実現できているか\n   - 画面・UI要素が実装されているか\n\n2. アーキテクチャ要件（ARCH）\n   - セキュリティ要件が実装されているか\n   - パフォーマンス要件が満たされているか\n   - 非機能要件が実装されているか\n\n3. 開発仕様（DEVELOPMENT）\n   - 設計ドキュメントに記載された仕様が実装されているか\n   - データベーススキーマが実装されているか\n   - 統合仕様が実装されているか\n\n[出力形式]\n## 未実装箇所一覧\n\n### 優先度：高\n| 機能/要件 | 定義箇所 | 実装予定箇所 | 影響範囲 | 備考 |\n|----------|---------|-------------|---------|------|\n| [機能名] | [ファイルパス:セクション] | [ファイルパス] | [影響を受ける機能] | [補足] |\n\n### 優先度：中\n...\n\n### 優先度：低\n...\n\n## 実装済み確認\n- [実装済みの主要機能リスト]\n\n## 推奨アクション\n1. [優先度順の実装推奨事項]\n2. ...",
          "tags": ["implementation", "check", "全体"]
        },
        {
          "id": "IMPL-RPT-01",
          "title": "定期実装状況レポート",
          "description": "実装完了率、未着手項目、進行中項目を整理",
          "body": "プロジェクトの実装状況を定期レポート形式で整理してください。\n\n[対象範囲]\n- docs/PRD/ で定義されているすべての機能要件\n- docs/ARCH/ で定義されている非機能要件\n- docs/DEVELOPMENT/ で定義されている技術仕様\n\n[分析軸]\n1. ステータス分類\n   - 実装完了：テスト済みで本番利用可能\n   - 実装中：コードは存在するが未完成\n   - 未着手：仕様のみで実装なし\n\n2. カテゴリ別分類\n   - 画面・UI機能\n   - データ処理・ビジネスロジック\n   - インフラ・非機能要件\n   - テスト・品質保証\n\n[出力形式]\n# 実装状況レポート - [日付]\n\n## サマリー\n- 全体進捗率: XX%\n- 実装完了: XX件\n- 実装中: XX件\n- 未着手: XX件\n\n## ステータス別詳細\n\n### 実装完了 (XX件)\n- [機能名] - [定義箇所] - [実装箇所]\n\n### 実装中 (XX件)\n- [機能名] - [定義箇所] - [実装箇所] - [残作業]\n\n### 未着手 (XX件)\n- [機能名] - [定義箇所] - [優先度] - [依存関係]\n\n## カテゴリ別進捗\n| カテゴリ | 完了 | 実装中 | 未着手 | 進捗率 |\n|---------|-----|-------|-------|-------|\n| 画面・UI | X | X | X | XX% |\n\n## ブロッカー・課題\n- [実装を阻害している要因]\n\n## 次期アクション\n1. [優先的に着手すべき項目]\n2. ...",
          "tags": ["implementation", "report", "定期確認"]
        },
        {
          "id": "IMPL-PREP-01",
          "title": "新機能開発前の現状分析",
          "description": "新機能開発に入る前の依存関係・前提条件チェック",
          "body": "新機能開発を始める前に、必要な前提条件と依存関係を分析してください。\n\n[入力]\n- 開発予定の機能名: [機能名を記入]\n- 関連PRD: [PRDファイルパスを記入]\n\n[分析観点]\n1. 依存する既存機能の実装状況\n   - この機能が依存する他の機能は何か\n   - それらは実装済みか\n\n2. 必要なアーキテクチャ要件\n   - データベーススキーマの変更が必要か\n   - 新しいサービス・コンポーネントが必要か\n   - セキュリティ・パフォーマンス要件は何か\n\n3. 技術的前提条件\n   - 必要なライブラリ・SDKは導入済みか\n   - 開発環境の準備は整っているか\n\n4. 影響範囲の特定\n   - この機能の実装により影響を受ける既存コードは何か\n   - テストの追加・修正が必要な箇所は何か\n\n[出力形式]\n# [機能名] 開発前分析\n\n## 前提条件チェックリスト\n- [ ] 依存機能A：実装済み / 未実装\n- [ ] 依存機能B：実装済み / 未実装\n- [ ] データベーススキーマ：対応済み / 要変更\n- [ ] 必要ライブラリ：導入済み / 要導入\n\n## 実装前に必要な作業\n### 優先度：高（ブロッカー）\n1. [作業内容] - [対応ファイル] - [定義箇所]\n\n### 優先度：中（推奨）\n...\n\n## 依存関係マップ\n```\n[この機能]\n  ├─ 依存 → [機能A] (実装済み)\n  ├─ 依存 → [機能B] (未実装) ← ブロッカー\n  └─ 影響 → [機能C] (要修正)\n```\n\n## リスク・懸念事項\n- [技術的リスク]\n- [スケジュールリスク]\n\n## 推奨開発順序\n1. [最初に実装すべきもの]\n2. [次に実装すべきもの]\n3. ...",
          "tags": ["implementation", "preparation", "依存関係"]
        },
        {
          "id": "IMPL-AI-01",
          "title": "AI実装タスク依頼プロンプト生成",
          "description": "未実装箇所をAIに実装依頼する際のプロンプト生成",
          "body": "特定の未実装機能をAIに実装依頼するためのプロンプトを生成してください。\n\n[入力]\n- 実装したい機能: [機能名を記入]\n- 関連PRD: [PRDファイルパスを記入]\n- 関連ARCH/DEV: [該当ファイルパスを記入]\n\n[生成するプロンプトの構成要素]\n1. 実装目的と背景\n   - 何のための機能か\n   - ユーザー価値は何か\n\n2. 要件定義の引用\n   - PRDからの該当セクション引用\n   - 機能要件の明確な記述\n\n3. 技術仕様の引用\n   - ARCHまたはDEVELOPMENTからの該当セクション引用\n   - データ構造、API仕様など\n\n4. 実装対象ファイル\n   - 新規作成が必要なファイル\n   - 修正が必要な既存ファイル\n\n5. 実装制約・ガイドライン\n   - プロジェクトの実装ルール\n   - 使用すべきライブラリ・パターン\n\n6. 完了基準\n   - 何ができれば完了とみなすか\n   - 必要なテストは何か\n\n[出力形式]\n---AI実装依頼プロンプト---\n\n# [機能名]の実装\n\n## 実装目的\n[PRDから引用した機能の目的・背景]\n\n## 要件定義\n### 機能要件\n```\n[PRDからの引用]\n- 要件1: ...\n- 要件2: ...\n```\n参照: docs/PRD/[ファイル名].mdc - [セクション名]\n\n### 技術仕様\n```\n[ARCH/DEVELOPMENTからの引用]\n- データ構造: ...\n- API仕様: ...\n```\n参照: docs/DEVELOPMENT/[ファイル名].md - [セクション名]\n\n## 実装対象\n### 新規作成ファイル\n- [ファイルパス] - [目的]\n\n### 修正対象ファイル\n- [ファイルパス] - [修正内容の概要]\n\n## 実装制約\n- [プロジェクトの実装ルール]\n- [使用技術・ライブラリ制約]\n- [既存コードとの整合性要件]\n\n## 完了基準\n- [ ] [具体的な完了条件1]\n- [ ] [具体的な完了条件2]\n- [ ] ユニットテストの追加\n- [ ] 既存テストが通ること\n\n## 参考情報\n- 類似実装: [既存の類似コードの場所]\n- 関連ドキュメント: [その他参考ドキュメント]\n\n---以上、このプロンプトをAIに渡して実装を依頼できます---",
          "tags": ["implementation", "ai", "prompt-generation"]
        }
      ]
    }
  ]
}
